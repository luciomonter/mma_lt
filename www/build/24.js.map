<<<<<<< HEAD
{"version":3,"sources":["../../src/core/mainmenu/pages/menu/menu.module.ts","../../src/core/mainmenu/pages/menu/menu.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CoreComponentsModule } from '@components/components.module';\r\nimport { CoreMainMenuPage } from './menu';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CoreMainMenuPage,\r\n    ],\r\n    imports: [\r\n        CoreComponentsModule,\r\n        IonicPageModule.forChild(CoreMainMenuPage),\r\n        TranslateModule.forChild()\r\n    ],\r\n})\r\nexport class CoreMainMenuPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/mainmenu/pages/menu/menu.module.ts","// (C) Copyright 2015 Martin Dougiamas\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { Component, OnDestroy } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { CoreSitesProvider } from '@providers/sites';\r\nimport { CoreMainMenuProvider } from '../../providers/mainmenu';\r\nimport { CoreMainMenuDelegate, CoreMainMenuHandlerToDisplay } from '../../providers/delegate';\r\n\r\n/**\r\n * Page that displays the main menu of the app.\r\n */\r\n@IonicPage({segment: 'core-mainmenu'})\r\n@Component({\r\n    selector: 'page-core-mainmenu',\r\n    templateUrl: 'menu.html',\r\n})\r\nexport class CoreMainMenuPage implements OnDestroy {\r\n    tabs: CoreMainMenuHandlerToDisplay[] = [];\r\n    loaded = false;\r\n    redirectPage: string;\r\n    redirectParams: any;\r\n    initialTab: number;\r\n    showTabs = false;\r\n\r\n    protected subscription;\r\n    protected redirectPageLoaded = false;\r\n\r\n    constructor(private menuDelegate: CoreMainMenuDelegate, private sitesProvider: CoreSitesProvider, navParams: NavParams,\r\n            private navCtrl: NavController) {\r\n        this.redirectPage = navParams.get('redirectPage');\r\n        this.redirectParams = navParams.get('redirectParams');\r\n    }\r\n\r\n    /**\r\n     * View loaded.\r\n     */\r\n    ionViewDidLoad(): void {\r\n        if (!this.sitesProvider.isLoggedIn()) {\r\n            this.navCtrl.setRoot('CoreLoginInitPage');\r\n\r\n            return;\r\n        }\r\n\r\n        this.showTabs = true;\r\n\r\n        const site = this.sitesProvider.getCurrentSite(),\r\n            displaySiteHome = site.getInfo() && site.getInfo().userhomepage === 0;\r\n\r\n        this.subscription = this.menuDelegate.getHandlers().subscribe((handlers) => {\r\n            handlers = handlers.slice(0, CoreMainMenuProvider.NUM_MAIN_HANDLERS); // Get main handlers.\r\n\r\n            // Re-build the list of tabs. If a handler is already in the list, use existing object to prevent re-creating the tab.\r\n            const newTabs = [];\r\n\r\n            for (let i = 0; i < handlers.length; i++) {\r\n                const handler = handlers[i];\r\n\r\n                // Check if the handler is already in the tabs list. If so, use it.\r\n                const tab = this.tabs.find((tab) => {\r\n                    return tab.title == handler.title && tab.icon == handler.icon;\r\n                });\r\n\r\n                newTabs.push(tab || handler);\r\n            }\r\n\r\n            this.tabs = newTabs;\r\n\r\n            // Sort them by priority so new handlers are in the right position.\r\n            this.tabs.sort((a, b) => {\r\n                return b.priority - a.priority;\r\n            });\r\n\r\n            if (typeof this.initialTab == 'undefined' && !this.loaded) {\r\n                // Calculate the tab to load.\r\n                if (this.redirectPage) {\r\n                    // Check if the redirect page is the root page of any of the tabs.\r\n                    this.initialTab = 0;\r\n\r\n                    for (let i = 0; i < this.tabs.length; i++) {\r\n                        const tab = this.tabs[i];\r\n                        if (tab.page == this.redirectPage) {\r\n                            // Tab found. Set the params and unset the redirect page.\r\n                            this.initialTab = i + 1;\r\n                            tab.pageParams = Object.assign(tab.pageParams || {}, this.redirectParams);\r\n                            this.redirectPage = null;\r\n                            this.redirectParams = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    // By default, course overview will be loaded (3.3+). Check if we need to select Site Home or My Courses.\r\n                    for (let i = 0; i < this.tabs.length; i++) {\r\n                        const handler = handlers[i];\r\n                        if ((displaySiteHome && handler.name == 'CoreSiteHome') ||\r\n                                (!displaySiteHome && handler.name == 'CoreCourses')) {\r\n                            this.initialTab = i;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.loaded = this.menuDelegate.areHandlersLoaded();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Page destroyed.\r\n     */\r\n    ngOnDestroy(): void {\r\n        this.subscription && this.subscription.unsubscribe();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/mainmenu/pages/menu/menu.ts"],"sourceRoot":""}
=======
{"version":3,"sources":["../../src/core/mainmenu/pages/more/more.module.ts","../../src/core/mainmenu/pages/more/more.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreMainMenuMorePage } from './more';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\n\n@NgModule({\n    declarations: [\n        CoreMainMenuMorePage,\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        IonicPageModule.forChild(CoreMainMenuMorePage),\n        TranslateModule.forChild()\n    ],\n})\nexport class CoreMainMenuPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/mainmenu/pages/more/more.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnDestroy } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { CoreEventsProvider } from '@providers/events';\nimport { CoreSitesProvider } from '@providers/sites';\nimport { CoreMainMenuDelegate, CoreMainMenuHandlerData } from '../../providers/delegate';\nimport { CoreMainMenuProvider, CoreMainMenuCustomItem } from '../../providers/mainmenu';\n\n/**\n * Page that displays the list of main menu options that aren't in the tabs.\n */\n@IonicPage({segment: 'core-mainmenu-more'})\n@Component({\n    selector: 'page-core-mainmenu-more',\n    templateUrl: 'more.html',\n})\nexport class CoreMainMenuMorePage implements OnDestroy {\n    handlers: CoreMainMenuHandlerData[];\n    handlersLoaded: boolean;\n    siteInfo: any;\n    logoutLabel: string;\n    showWeb: boolean;\n    showHelp: boolean;\n    docsUrl: string;\n    customItems: CoreMainMenuCustomItem[];\n\n    protected subscription;\n    protected langObserver;\n    protected updateSiteObserver;\n\n    constructor(private menuDelegate: CoreMainMenuDelegate, private sitesProvider: CoreSitesProvider,\n            private navCtrl: NavController, private mainMenuProvider: CoreMainMenuProvider,\n            eventsProvider: CoreEventsProvider) {\n\n        this.langObserver = eventsProvider.on(CoreEventsProvider.LANGUAGE_CHANGED, this.loadSiteInfo.bind(this));\n        this.updateSiteObserver = eventsProvider.on(CoreEventsProvider.SITE_UPDATED, this.loadSiteInfo.bind(this),\n            sitesProvider.getCurrentSiteId());\n        this.loadSiteInfo();\n    }\n\n    /**\n     * View loaded.\n     */\n    ionViewDidLoad(): void {\n        // Load the handlers.\n        this.subscription = this.menuDelegate.getHandlers().subscribe((handlers) => {\n            // Calculate the main handlers to not display them in this view.\n            const mainHandlers = handlers.filter((handler) => {\n                return !handler.onlyInMore;\n            }).slice(0, CoreMainMenuProvider.NUM_MAIN_HANDLERS);\n\n            // Get only the handlers that don't appear in the main view.\n            this.handlers = [];\n            handlers.forEach((handler) => {\n                if (mainHandlers.indexOf(handler) == -1) {\n                    this.handlers.push(handler);\n                }\n            });\n\n            this.handlersLoaded = this.menuDelegate.areHandlersLoaded();\n        });\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n\n    /**\n     * Load the site info required by the view.\n     */\n    protected loadSiteInfo(): void {\n        const currentSite = this.sitesProvider.getCurrentSite(),\n            config = currentSite.getStoredConfig();\n\n        this.siteInfo = currentSite.getInfo();\n        this.logoutLabel = 'core.mainmenu.' + (config && config.tool_mobile_forcelogout == '1' ? 'logout' : 'changesite');\n        this.showWeb = !currentSite.isFeatureDisabled('CoreMainMenuDelegate_website');\n        this.showHelp = !currentSite.isFeatureDisabled('CoreMainMenuDelegate_help');\n\n        currentSite.getDocsUrl().then((docsUrl) => {\n            this.docsUrl = docsUrl;\n        });\n\n        this.mainMenuProvider.getCustomMenuItems().then((items) => {\n            this.customItems = items;\n        });\n    }\n\n    /**\n     * Open a handler.\n     *\n     * @param {CoreMainMenuHandlerData} handler Handler to open.\n     */\n    openHandler(handler: CoreMainMenuHandlerData): void {\n        this.navCtrl.push(handler.page, handler.pageParams);\n    }\n\n    /**\n     * Open an embedded custom item.\n     *\n     * @param {CoreMainMenuCustomItem} item Item to open.\n     */\n    openItem(item: CoreMainMenuCustomItem): void {\n        this.navCtrl.push('CoreViewerIframePage', {title: item.label, url: item.url});\n    }\n\n    /**\n     * Open settings page.\n     */\n    openSettings(): void {\n        this.navCtrl.push('CoreSettingsListPage');\n    }\n\n    /**\n     * Logout the user.\n     */\n    logout(): void {\n        this.sitesProvider.logout();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/mainmenu/pages/more/more.ts"],"sourceRoot":""}
>>>>>>> 5632a65c1fdc0002876490b68e6dc6621a0dd43d
